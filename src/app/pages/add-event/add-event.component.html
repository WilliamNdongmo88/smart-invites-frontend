    <div class="add-event">
      <!-- Header -->
      <div class="add-event-header">
        <div class="container">
          <a routerLink="/dashboard" class="back-link">← Retour au tableau de bord</a>
          <h1>Créer un nouvel événement</h1>
          <p>Remplissez les détails de votre mariage pour commencer</p>
        </div>
      </div>

      <!-- Indicateur de chargement -->
      <app-spinner [isLoading]="isLoading"></app-spinner>

      <!-- Main content -->
      <div class="container py-12">
        <div class="form-wrapper">
          <form (ngSubmit)="onSubmit()" #eventForm="ngForm">
            <!-- Step indicator -->
            <div class="step-indicator">
              <div class="step" [class.active]="currentStep() === 1" [class.completed]="currentStep() > 1">
                <span>1</span>
                <p>Informations</p>
              </div>
              <div class="step-line" [class.completed]="currentStep() > 1"></div>
              <div class="step" [class.active]="currentStep() === 2" [class.completed]="currentStep() > 2">
                <span>2</span>
                <p>Détails</p>
              </div>
              <div class="step-line" [class.completed]="currentStep() > 2"></div>
              <div class="step" [class.active]="currentStep() === 3">
                <span>3</span>
                <p>Confirmation</p>
              </div>
            </div>

            <!-- Step 1: Basic Information -->
            <div *ngIf="currentStep() === 1" class="step-content">
              <h2>Informations de base</h2>

              <div class="form-group">
                <label for="eventTitle">Titre de l'événement</label>
                <input
                  type="text"
                  id="eventTitle"
                  name="eventTitle"
                  [(ngModel)]="eventData.title"
                  placeholder="Ex: Mariage de Sophie et Pierre"
                  required
                  class="form-input"
                />
                <p class="form-hint">Donnez un titre à votre événement</p>
              </div>

              <div class="form-group">
                <label for="eventType">Type d'événement</label>
                <select
                  id="eventType"
                  name="eventType"
                  [(ngModel)]="eventData.type"
                  (change)="showSelection()"
                  class="form-input"
                >
                  <option value="">Sélectionner un type</option>
                  <option value="wedding">Mariage</option>
                  <option value="engagement">Fiançailles</option>
                  <option value="anniversary">Anniversaire de Mariage</option>
                  <option value="birthday">Anniversaire</option>
                  <option value="other">Autre</option>
                </select>
              </div>

              <div class="form-group">
                <label for="eventDate">Date de l'événement</label>
                <input
                  type="date"
                  id="eventDate"
                  name="eventDate"
                  [(ngModel)]="eventData.date"
                  required
                  class="form-input"
                />
              </div>

              <div class="form-group">
                <label for="eventTime">Heure de l'événement</label>
                <input
                  type="time"
                  id="eventTime"
                  name="eventTime"
                  [(ngModel)]="eventData.time"
                  required
                  class="form-input"
                />
              </div>

              <div *ngIf="showWeddingCivilLocation" class="form-group">
                <label for="eventCivilLocation">Lieu de célébration du mariage civil</label>
                <input
                  type="text"
                  id="eventCivilLocation"
                  name="eventCivilLocation"
                  [(ngModel)]="eventData.civilLocation"
                  placeholder="Ex: Hôtel de ville de Bafoussam"
                  required
                  class="form-input"
                />
              </div>

              <!-- Checkbox -->
              <div *ngIf="showWeddingCivilLocation" class="form-group checkbox-group">
                <label>
                  <input
                    type="checkbox"
                    [(ngModel)]="showWeddingReligiousLocation"
                    name="hasReligiousCeremony"
                    (change)="toggleReligiousCeremony()"
                  />
                  Cérémonie religieuse
                </label>
              </div>

              <!-- Formulaire cérémonie religieuse -->
              <div *ngIf="showWeddingReligiousLocation">
                <div class="form-group">
                  <label for="eventReligiousLocation">
                    Lieu de la Cérémonie Religieuse
                  </label>
                  <input
                    type="text"
                    id="eventReligiousLocation"
                    name="eventReligiousLocation"
                    [(ngModel)]="eventData.religiousLocation"
                    placeholder="Ex: Église Saint Pierre de Bafoussam"
                    class="form-input"
                  />
                </div>

                <div class="form-group">
                  <label for="eventReligiousTime">Heure de la cérémonie</label>
                  <input
                    type="time"
                    id="eventReligiousTime"
                    name="eventReligiousTime"
                    [(ngModel)]="eventData.religiousTime"
                    class="form-input"
                  />
                </div>
              </div>

              <div class="form-group">
                <label *ngIf="showWeddingCivilLocation" for="eventLocation">Lieu du Banquet de Mariage</label>
                <label *ngIf="!showWeddingCivilLocation" for="eventLocation">Lieu de l'événement</label>
                <input
                  type="text"
                  id="eventLocation"
                  name="eventLocation"
                  [(ngModel)]="eventData.location"
                  placeholder="Ex: Château de Versailles, Île-de-France"
                  required
                  class="form-input"
                />
              </div>
              <div *ngIf="showWeddingCivilLocation" class="form-group">
                <label for="eventBanquetTime">Heure du Banquet</label>
                <input
                  type="time"
                  id="eventBanquetTime"
                  name="eventBanquetTime"
                  [(ngModel)]="eventData.banquetTime"
                  required
                  class="form-input"
                />
              </div>

              <div class="form-actions">
                <button type="button" class="btn btn-primary btn-text" (click)="nextStep()">
                  Suivant →
                </button>
              </div>
            </div>

            <!-- Step 2: Event Details -->
            <div *ngIf="currentStep() === 2" class="step-content">
              <h2>Détails de l'événement</h2>

              <div class="form-group">
                <label for="eventDescription">Message d'invitation</label>
                <textarea
                  id="eventDescription"
                  name="eventDescription"
                  [(ngModel)]="eventData.description"
                  placeholder="Saisisez votre message d’invitation formel et chaleureux..."
                  rows="4"
                  class="form-textarea"
                ></textarea>
              </div>

              <div class="form-group">
                <label for="totalGuests">Nombre total d'invités</label>
                <input
                  type="number"
                  id="totalGuests"
                  name="totalGuests"
                  [(ngModel)]="eventData.totalGuests"
                  min="1"
                  placeholder="150"
                  required
                  class="form-input"
                />
              </div>

              <div class="form-group">
                <label for="budget">Budget (optionnel)</label>
                <div class="input-with-icon">
                  <span class="currency">€</span>
                  <input
                    type="number"
                    id="budget"
                    name="budget"
                    [(ngModel)]="eventData.budget"
                    placeholder="0"
                    min="0"
                    class="form-input"
                  />
                </div>
              </div>

              <!-- Show Wedding Names -->
              <div *ngIf="showWeddingNames || showEngagementNames || showAnniversaryNames" class="form-group">
                <label *ngIf="showWeddingNames" for="eventNameConcerned2">Prenom du future marié</label>
                <label *ngIf="showEngagementNames" for="eventNameConcerned2">Prenom du fiancé</label>
                <label *ngIf="showAnniversaryNames" for="eventNameConcerned2">Nom du marié</label>
                <input
                  type="text"
                  id="eventNameConcerned1"
                  name="eventNameConcerned1"
                  [(ngModel)]="eventData.eventNameConcerned1"
                  required
                  class="form-input"
                />
              </div>

              <div *ngIf="showWeddingNames || showEngagementNames || showAnniversaryNames" class="form-group">
                <label *ngIf="showWeddingNames" for="eventNameConcerned2">Prenom de la future mariée</label>
                <label *ngIf="showEngagementNames" for="eventNameConcerned2">Prenom de la fiancée</label>
                <label *ngIf="showAnniversaryNames" for="eventNameConcerned2">Nom de la mariée</label>
                <input
                  type="text"
                  id="eventNameConcerned2"
                  name="eventNameConcerned2"
                  [(ngModel)]="eventData.eventNameConcerned2"
                  required
                  class="form-input"
                />
              </div>

              <div *ngIf="showBirthdayNames || showAnother" class="form-group">
                <label for="eventNameConcerned1">Nom du concerné</label>
                <input
                  type="text"
                  id="eventNameConcerned1"
                  name="eventNameConcerned1"
                  [(ngModel)]="eventData.eventNameConcerned1"
                  required
                  class="form-input"
                />
              </div>

              <div class="form-group">
                <label class="checkbox-label">
                  <input type="checkbox" [(ngModel)]="eventData.allowDietaryRestrictions" name="allowDietaryRestrictions" />
                  <span>Permettre les restrictions alimentaires</span>
                </label>
              </div>

              <div class="form-group">
                <label class="checkbox-label">
                  <input type="checkbox" [(ngModel)]="eventData.allowPlusOne" name="allowPlusOne" />
                  <span>Permettre les +1</span>
                </label>
              </div>

              <div class="form-actions">
                <button type="button" class="btn btn-outline" (click)="previousStep()">
                  ← Précédent
                </button>
                <button type="button" class="btn btn-primary btn-text" (click)="nextStep()">
                  Suivant →
                </button>
              </div>
            </div>

            <!-- Step 3: Confirmation -->
            <div *ngIf="currentStep() === 3" class="step-content">
              <h2>Confirmation</h2>

              <div class="confirmation-card">
                <h3>Résumé de votre événement</h3>

                <div class="confirmation-item">
                  <span class="label">Titre :</span>
                  <span class="value">{{ eventData.title }}</span>
                </div>

                <div class="confirmation-item">
                  <span class="label">Date :</span>
                  <span class="value">{{ formatDate(eventData.date) }} à {{ eventData.time }}</span>
                </div>

                <div class="confirmation-item">
                  <span class="label">Lieu :</span>
                  <span class="value">{{ eventData.location }}</span>
                </div>

                <div class="confirmation-item">
                  <span class="label">Nombre d'invités :</span>
                  <span class="value">{{ eventData.totalGuests }}</span>
                </div>

                <div class="confirmation-item" *ngIf="eventData.budget">
                  <span class="label">Budget :</span>
                  <span class="value">{{ eventData.budget }}€</span>
                </div>

                <div class="confirmation-item">
                  <span class="label">Type :</span>
                  <span class="value">{{ getEventTypeLabel(eventData.type) }}</span>
                </div>

                <div *ngIf="showWeddingNames || showEngagementNames || showAnniversaryNames" class="confirmation-item">
                  <span *ngIf="showWeddingNames" class="label">Prenom du future marié :</span>
                  <span *ngIf="showEngagementNames" class="label">Prenom du fiancé :</span>
                  <span *ngIf="showAnniversaryNames" class="label">Nom du marié :</span>
                  <span class="value">{{ eventData.eventNameConcerned1 }}</span>
                </div>

                <div *ngIf="showWeddingNames || showEngagementNames || showAnniversaryNames" class="confirmation-item">
                  <span *ngIf="showWeddingNames" class="label">Prenom de la future mariée :</span>
                  <span *ngIf="showEngagementNames" class="label">Prenom de la fiancée :</span>
                  <span *ngIf="showAnniversaryNames" class="label">Nom de la mariée :</span>
                  <span class="value">{{ eventData.eventNameConcerned2 }}</span>
                </div>

                <div *ngIf="showBirthdayNames || showAnother" class="confirmation-item">
                  <span class="label">Nom du concerné :</span>
                  <span class="value">{{ eventData.eventNameConcerned1 }}</span>
                </div>

                <div class="confirmation-item">
                  <span class="label">Restrictions alimentaires :</span>
                  <span class="value">{{ eventData.allowDietaryRestrictions ? 'Activées' : 'Désactivées' }}</span>
                </div>

                <div class="confirmation-item">
                  <span class="label">+1 autorisés :</span>
                  <span class="value">{{ eventData.allowPlusOne ? 'Oui' : 'Non' }}</span>
                </div>
              </div>

              <div class="form-actions">
                <button type="button" class="btn btn-outline" (click)="previousStep()">
                  ← Précédent
                </button>
                <button type="submit" class="btn btn-primary btn-text-center" [disabled]="!eventForm.valid">
                  ✓ Créer l'événement
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>